{# app/templates/partials/_flash.html #}
{% with messages = get_flashed_messages(with_categories=true) %}
  {% if messages %}
    <div class="w-full flex justify-center mb-4">
      <div class="w-full max-w-sm space-y-2">
        {% for category, msg in messages %}
          {# Determinar color base #}
          {% if category == 'success' %}
            {% set color = 'green' %}
          {% elif category == 'warning' %}
            {% set color = 'yellow' %}
          {% elif category == 'info' %}
            {% set color = 'blue' %}
          {% else %}
            {% set color = 'red' %}
          {% endif %}

          <div class="flash-item flex items-start gap-3 bg-{{color}}-50 border border-{{color}}-200 text-{{color}}-800 px-4 py-2 rounded shadow">
            {% if category == 'success' %}
              <i class="fa-solid fa-circle-check mt-0.5"></i>
            {% elif category == 'warning' %}
              <i class="fa-solid fa-triangle-exclamation mt-0.5"></i>
            {% elif category == 'info' %}
              <i class="fa-solid fa-circle-info mt-0.5"></i>
            {% else %}
              <i class="fa-solid fa-circle-xmark mt-0.5"></i>
            {% endif %}
            <div class="text-sm font-medium">{{ msg }}</div>
          </div>
        {% endfor %}
      </div>
    </div>
  {% endif %}
{% endwith %}
